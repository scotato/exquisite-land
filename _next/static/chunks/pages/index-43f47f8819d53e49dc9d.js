(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9849:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});for(var a=n(5988),c=n(7294),r=n(6126),s=n(5011),l=n(5893),i=function(e){var t=e.x,n=e.y,c=e.handleTileClick,r=(0,s.ZP)((function(e){return e.canvases[e.activeCanvas].tiles["".concat(t,"-").concat(n)]}));return(0,l.jsxs)("div",{onClick:function(e){return c()},className:"jsx-923990045 tile",children:[(null===r||void 0===r?void 0:r.svg)&&(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:r.svg},className:"jsx-923990045"}),(0,l.jsx)(a.default,{id:"923990045",children:[".tile.jsx-923990045{border:lightblue 1px solid;}",".tile.jsx-923990045:hover{background-color:lightcoral;}"]})]})},o=n(3253),d=n.n(o),u=n(5861),x=n(7757),f=n.n(x),h=n(4113),m=function(e){var t=e.x,n=e.y,r=e.closeModal,i=(0,s.ZP)((function(e){return e.canvases[0].pallete})),o=(0,c.useState)("#000"),d=o[0],x=o[1],m=(0,c.useState)(4),p=m[0],v=m[1],j=(0,c.useState)("pen"),g=j[0],y=j[1],b='\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 '.concat(2*p," ").concat(2*p,'" width="').concat(p,'px" height="').concat(p,'px"><circle cx="').concat(p/2,'px" cy="').concat(p/2,'px" r="').concat(p/2,'px" fill="').concat(d.replace("#","%23"),"\"/></svg>'");function k(){return(k=(0,u.Z)(f().mark((function e(){var a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("tile(".concat(t,", ").concat(n,") saved!")),_.current){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_.current.exportSvg();case 5:a=e.sent,console.log("saving svg to state",a),s.ZP.setState((function(e){return e.canvases[e.activeCanvas].tiles["".concat(t,"-").concat(n)]={svg:a,status:s.z3.DRAWN,type:s.YU.SOLO},e})),r();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=(0,c.useRef)(null);return(0,c.useEffect)((function(){var e;console.log("setting active tool to","eraser"==g),null===(e=_.current)||void 0===e||e.eraseMode("eraser"==g)}),[g]),(0,l.jsxs)("div",{className:a.default.dynamic([["1140019875",[b,d,d]]])+" editor",children:[(0,l.jsx)("div",{className:a.default.dynamic([["1140019875",[b,d,d]]])+" canvas",children:(0,l.jsx)(h.x,{ref:_,height:"600px",width:"600px",strokeWidth:p,strokeColor:d,style:{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}})}),(0,l.jsxs)("div",{className:a.default.dynamic([["1140019875",[b,d,d]]])+" color-picker",children:["Color Picker",i.map((function(e){return(0,l.jsx)("div",{style:{backgroundColor:e},onClick:function(){return x(e)},className:a.default.dynamic([["1140019875",[b,d,d]]])+" color-dot"},e)}))]}),(0,l.jsxs)("div",{className:a.default.dynamic([["1140019875",[b,d,d]]])+" color-picker",children:["Brush Size",(0,l.jsx)("div",{onClick:function(){return v(4)},className:a.default.dynamic([["1140019875",[b,d,d]]])+" small-brush"}),(0,l.jsx)("div",{onClick:function(){return v(16)},className:a.default.dynamic([["1140019875",[b,d,d]]])+" large-brush"})]}),(0,l.jsxs)("label",{className:a.default.dynamic([["1140019875",[b,d,d]]]),children:[(0,l.jsx)("input",{name:"tool",type:"radio",checked:"pen"==g,onChange:function(){return y("pen")},className:a.default.dynamic([["1140019875",[b,d,d]]])}),"Pen"]}),(0,l.jsxs)("label",{className:a.default.dynamic([["1140019875",[b,d,d]]]),children:[(0,l.jsx)("input",{name:"tool",type:"radio",checked:"eraser"==g,onChange:function(){return y("eraser")},className:a.default.dynamic([["1140019875",[b,d,d]]])}),"Eraser"]}),(0,l.jsx)("button",{onClick:function(){return k.apply(this,arguments)},className:a.default.dynamic([["1140019875",[b,d,d]]]),children:"Save"}),(0,l.jsx)(a.default,{id:"1140019875",dynamic:[b,d,d],children:[".canvas.__jsx-style-dynamic-selector{cursor:url(".concat(b,") 6 6,auto;}"),".color-picker.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:0.5rem;}",".color-dot.__jsx-style-dynamic-selector{width:32px;height:32px;border-radius:50%;}",".small-brush.__jsx-style-dynamic-selector{width:16px;height:16px;background-color:".concat(d,";border-radius:50%;}"),".large-brush.__jsx-style-dynamic-selector{width:32px;height:32px;background-color:".concat(d,";border-radius:50%;}")]})]})},p=Array(100),v=Array(100),j=0;j<p.length;j++)p[j]=j;for(var g=0;g<v.length;g++)v[g]=g;var y={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};d().setAppElement("#__next");var b=function(){var e=(0,c.useState)(),t=e[0],n=e[1],s=(0,c.useState)(),o=s[0],u=s[1],x=(0,c.useState)(!1),f=x[0],h=x[1];function j(){h(!1),n(void 0),u(void 0)}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d(),{isOpen:f,onAfterOpen:function(){},onRequestClose:j,style:y,contentLabel:"Tile Editor Modal",children:void 0!=t&&void 0!=o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"jsx-1414730758",children:"hello! I am modal"}),(0,l.jsx)(m,{x:t,y:o,closeModal:j})]})}),(0,l.jsx)(r.d$,{children:(0,l.jsx)(r.Uv,{children:(0,l.jsx)("div",{className:"jsx-1414730758 surface",children:p.map((function(e){return v.map((function(t){return(0,l.jsx)(i,{x:t,y:e,handleTileClick:function(){return function(e,t){console.log("tile ".concat(e,", ").concat(t," clicked!")),n(e),u(t),h(!0)}(t,e)}},"tile-".concat(t,"-").concat(e))}))}))})})}),(0,l.jsx)(a.default,{id:"1414730758",children:[".surface.jsx-1414730758{display:grid;grid-template-rows:repeat(100,200px);grid-template-columns:repeat(100,200px);}"]})]})},k=n(1664),_=function(){return(0,l.jsxs)("div",{className:"jsx-2996999776 index",children:[(0,l.jsx)(b,{}),(0,l.jsx)(k.default,{href:"/edit",children:(0,l.jsx)("a",{className:"jsx-2996999776",children:"Editor"})}),(0,l.jsx)(a.default,{id:"2996999776",children:[]})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9849)}])}},function(e){e.O(0,[774,882,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);