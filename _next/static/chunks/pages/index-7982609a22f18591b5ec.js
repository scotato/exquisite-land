(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9849:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});for(var a=t(5988),c=t(7294),r=t(6126),s=t(5011),l=t(5893),i=function(e){var n=e.x,t=e.y,c=e.handleTileClick,r=(0,s.ZP)((function(e){return e.canvases[e.activeCanvas].tiles["".concat(n,"-").concat(t)]}));return(0,l.jsxs)("div",{onClick:function(e){return c()},className:"jsx-923990045 tile",children:[(null===r||void 0===r?void 0:r.svg)&&(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:r.svg},className:"jsx-923990045"}),(0,l.jsx)(a.default,{id:"923990045",children:[".tile.jsx-923990045{border:lightblue 1px solid;}",".tile.jsx-923990045:hover{background-color:lightcoral;}"]})]})},o=t(3253),d=t.n(o),u=t(5861),x=t(7757),f=t.n(x),h=t(4113),m=function(e){var n=e.x,t=e.y,r=e.closeModal,i=(0,s.ZP)((function(e){return e.canvases[0].pallete})),o=(0,c.useState)("#000"),d=o[0],x=o[1],m=(0,c.useState)(4),p=m[0],v=m[1],j=(0,c.useState)("pen"),y=j[0],g=j[1],b='\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 '.concat(2*p," ").concat(2*p,'" width="').concat(p,'px" height="').concat(p,'px"><circle cx="').concat(p/2,'px" cy="').concat(p/2,'px" r="').concat(p/2,'px" fill="').concat(d.replace("#","%23"),"\"/></svg>'");function k(){return(k=(0,u.Z)(f().mark((function e(){var a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("tile(".concat(n,", ").concat(t,") saved!")),N.current){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,N.current.exportSvg();case 5:a=e.sent,console.log("saving svg to state",a),s.ZP.setState((function(e){return e.canvases[e.activeCanvas].tiles["".concat(n,"-").concat(t)]={svg:a,status:s.z3.DRAWN,type:s.YU.SOLO},e})),r();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=(0,c.useRef)(null);return(0,c.useEffect)((function(){var e;console.log("setting active tool to","eraser"==y),null===(e=N.current)||void 0===e||e.eraseMode("eraser"==y)}),[y]),(0,l.jsxs)("div",{className:a.default.dynamic([["1140019875",[b,d,d]]])+" editor",children:[(0,l.jsx)("div",{className:a.default.dynamic([["1140019875",[b,d,d]]])+" canvas",children:(0,l.jsx)(h.x,{ref:N,height:"600px",width:"600px",strokeWidth:p,strokeColor:d,style:{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}})}),(0,l.jsxs)("div",{className:a.default.dynamic([["1140019875",[b,d,d]]])+" color-picker",children:["Color Picker",i.map((function(e){return(0,l.jsx)("div",{style:{backgroundColor:e},onClick:function(){return x(e)},className:a.default.dynamic([["1140019875",[b,d,d]]])+" color-dot"},e)}))]}),(0,l.jsxs)("div",{className:a.default.dynamic([["1140019875",[b,d,d]]])+" color-picker",children:["Brush Size",(0,l.jsx)("div",{onClick:function(){return v(4)},className:a.default.dynamic([["1140019875",[b,d,d]]])+" small-brush"}),(0,l.jsx)("div",{onClick:function(){return v(16)},className:a.default.dynamic([["1140019875",[b,d,d]]])+" large-brush"})]}),(0,l.jsxs)("label",{className:a.default.dynamic([["1140019875",[b,d,d]]]),children:[(0,l.jsx)("input",{name:"tool",type:"radio",checked:"pen"==y,onChange:function(){return g("pen")},className:a.default.dynamic([["1140019875",[b,d,d]]])}),"Pen"]}),(0,l.jsxs)("label",{className:a.default.dynamic([["1140019875",[b,d,d]]]),children:[(0,l.jsx)("input",{name:"tool",type:"radio",checked:"eraser"==y,onChange:function(){return g("eraser")},className:a.default.dynamic([["1140019875",[b,d,d]]])}),"Eraser"]}),(0,l.jsxs)("div",{className:a.default.dynamic([["1140019875",[b,d,d]]]),children:[(0,l.jsx)("button",{onClick:function(){var e;null===(e=N.current)||void 0===e||e.resetCanvas()},className:a.default.dynamic([["1140019875",[b,d,d]]]),children:"Clear Tile"}),(0,l.jsx)("button",{onClick:function(){return k.apply(this,arguments)},className:a.default.dynamic([["1140019875",[b,d,d]]]),children:"Save"})]}),(0,l.jsx)(a.default,{id:"1140019875",dynamic:[b,d,d],children:[".canvas.__jsx-style-dynamic-selector{cursor:url(".concat(b,") 6 6,auto;}"),".color-picker.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:0.5rem;}",".color-dot.__jsx-style-dynamic-selector{width:32px;height:32px;border-radius:50%;}",".small-brush.__jsx-style-dynamic-selector{width:16px;height:16px;background-color:".concat(d,";border-radius:50%;}"),".large-brush.__jsx-style-dynamic-selector{width:32px;height:32px;background-color:".concat(d,";border-radius:50%;}")]})]})},p=Array(100),v=Array(100),j=0;j<p.length;j++)p[j]=j;for(var y=0;y<v.length;y++)v[y]=y;var g={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};d().setAppElement("#__next");var b=function(){var e=(0,c.useState)(),n=e[0],t=e[1],s=(0,c.useState)(),o=s[0],u=s[1],x=(0,c.useState)(!1),f=x[0],h=x[1];function j(){h(!1),t(void 0),u(void 0)}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d(),{isOpen:f,onAfterOpen:function(){},onRequestClose:j,style:g,contentLabel:"Tile Editor Modal",children:void 0!=n&&void 0!=o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"jsx-1414730758",children:"hello! I am modal"}),(0,l.jsx)(m,{x:n,y:o,closeModal:j})]})}),(0,l.jsx)(r.d$,{children:(0,l.jsx)(r.Uv,{children:(0,l.jsx)("div",{className:"jsx-1414730758 surface",children:p.map((function(e){return v.map((function(n){return(0,l.jsx)(i,{x:n,y:e,handleTileClick:function(){return function(e,n){console.log("tile ".concat(e,", ").concat(n," clicked!")),t(e),u(n),h(!0)}(n,e)}},"tile-".concat(n,"-").concat(e))}))}))})})}),(0,l.jsx)(a.default,{id:"1414730758",children:[".surface.jsx-1414730758{display:grid;grid-template-rows:repeat(100,200px);grid-template-columns:repeat(100,200px);}"]})]})},k=t(1664),N=function(){return(0,l.jsxs)("div",{className:"jsx-2996999776 index",children:[(0,l.jsx)(b,{}),(0,l.jsx)(k.default,{href:"/edit",children:(0,l.jsx)("a",{className:"jsx-2996999776",children:"Editor"})}),(0,l.jsx)(a.default,{id:"2996999776",children:[]})]})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9849)}])}},function(e){e.O(0,[774,882,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);